{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nimport _imports_0 from '../../assets/images/logo/logo.png';\nimport _imports_1 from '../../assets/images/logo/logo_dark.png';\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 p-0\"\n};\nconst _hoisted_4 = {\n  class: \"login-card\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"logo\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"img-fluid for-light\",\n  src: _imports_0,\n  alt: \"looginpage\"\n}), /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"img-fluid for-dark\",\n  src: _imports_1,\n  alt: \"looginpage\"\n})])], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"login-main\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Sign in to account\", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Enter your username & password to login\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-form-label\"\n}, \"Username\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  key: 0,\n  class: \"valid-feedback\",\n  id: \"feedback-1\"\n};\nconst _hoisted_12 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-form-label\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  class: \"form-input position-relative\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"show-hide\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"show\"\n})], -1 /* HOISTED */);\nconst _hoisted_16 = {\n  key: 0,\n  class: \"valid-feedback\",\n  id: \"feedback-1\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"form-group mb-0\\\"><div class=\\\"checkbox p-0\\\"><input id=\\\"checkbox1\\\" type=\\\"checkbox\\\"><label class=\\\"text-muted\\\" for=\\\"checkbox1\\\">Remember password</label></div><div class=\\\"text-end mt-3\\\"><!-- &lt;button class=&quot;btn btn-primary btn-block w-100&quot; type=&quot;submit&quot;\\r\\n                                                @click.prevent=&quot;login&quot;&gt;Sign\\r\\n                                                in&lt;/button&gt; --><button class=\\\"btn btn-primary btn-block w-100\\\">Sign in</button></div></div><p class=\\\"mt-4 mb-0 text-center\\\">Don&#39;t have account?<a class=\\\"ms-2\\\" href=\\\"sign-up.html\\\">Create Account</a></p>\", 2);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n    class: \"theme-form needs-validation\",\n    novalidate: \"\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.onCustomStyleSubmit && $options.onCustomStyleSubmit(...args), [\"prevent\"]))\n  }, [_hoisted_7, _hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    class: _normalizeClass([\"form-control\", _ctx.formSubmitted ? _ctx.userError ? 'is-invalid' : 'is-valid' : '']),\n    type: \"text\",\n    required: \"\",\n    placeholder: \"Enter your username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event)\n  }, null, 2 /* CLASS */), [[_vModelText, $data.username]]), _ctx.errors[0] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _toDisplayString(_ctx.errors[0].msgUsername), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n    class: _normalizeClass([\"form-control\", _ctx.formSubmitted ? _ctx.passwordError ? 'is-invalid' : 'is-valid' : '']),\n    type: \"password\",\n    required: \"\",\n    placeholder: \"Enter your password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event)\n  }, null, 2 /* CLASS */), [[_vModelText, $data.password]]), _hoisted_15, _ctx.errors[0] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(_ctx.errors[0].message), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _hoisted_17], 32 /* NEED_HYDRATION */)])])])])])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","_createElementVNode","src","alt","key","id","_createStaticVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","novalidate","onSubmit","_cache","_withModifiers","args","$options","onCustomStyleSubmit","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_normalizeClass","_ctx","formSubmitted","userError","type","required","placeholder","$event","$data","username","errors","_hoisted_11","_toDisplayString","msgUsername","_createCommentVNode","_hoisted_12","_hoisted_13","_hoisted_14","passwordError","password","_hoisted_15","_hoisted_16","message","_hoisted_17"],"sources":["C:\\Users\\chukwuebuka.ohaji\\Workspace\\Tests\\HomeCareAgency\\web\\src\\pages\\auth\\login.vue"],"sourcesContent":["<template>\r\n    <div>\r\n\r\n        <div class=\"container-fluid\">\r\n            <div class=\"row \">\r\n                <div class=\"col-12 p-0\">\r\n                    <div class=\"login-card\">\r\n                        <div>\r\n                            <div>\r\n                                <a class=\"logo\">\r\n                                    <img class=\"img-fluid for-light\" src=\"../../assets/images/logo/logo.png\"\r\n                                        alt=\"looginpage\" />\r\n                                    <img class=\"img-fluid for-dark\" src=\"../../assets/images/logo/logo_dark.png\"\r\n                                        alt=\"looginpage\" />\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"login-main\">\r\n                                <form class=\"theme-form needs-validation\" novalidate=\"\"\r\n                                    @submit.prevent=\"onCustomStyleSubmit\">\r\n                                    <h4>Sign in to account</h4>\r\n                                    <p>Enter your username & password to login</p>\r\n                                    <div class=\"form-group mb-3\">\r\n                                        <label class=\"col-form-label\">Username</label>\r\n                                        <input class=\"form-control\" type=\"text\" required=\"\"\r\n                                            placeholder=\"Enter your username\" v-model=\"username\"\r\n                                            v-bind:class=\"formSubmitted ? userError ? 'is-invalid' : 'is-valid' : ''\">\r\n                                        <div class=\"valid-feedback\" id=\"feedback-1\" v-if=\"errors[0]\">{{\r\n                                            errors[0].msgUsername }}</div>\r\n\r\n                                    </div>\r\n\r\n                                    <div class=\"form-group mb-3\">\r\n                                        <label class=\"col-form-label\">Password</label>\r\n                                        <div class=\"form-input position-relative\">\r\n                                            <input class=\"form-control\" type=\"password\" required=\"\"\r\n                                                placeholder=\"Enter your password\" v-model=\"password\"\r\n                                                v-bind:class=\"formSubmitted ? passwordError ? 'is-invalid' : 'is-valid' : ''\">\r\n                                            <div class=\"show-hide\"><span class=\"show\"> </span></div>\r\n                                            <div class=\"valid-feedback\" id=\"feedback-1\" v-if=\"errors[0]\">{{\r\n                                                errors[0].message }}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"form-group mb-0\">\r\n                                        <div class=\"checkbox p-0\">\r\n                                            <input id=\"checkbox1\" type=\"checkbox\">\r\n                                            <label class=\"text-muted\" for=\"checkbox1\">Remember password</label>\r\n                                        </div>\r\n\r\n                                        <div class=\"text-end mt-3\">\r\n                                            <!-- <button class=\"btn btn-primary btn-block w-100\" type=\"submit\"\r\n                                                @click.prevent=\"login\">Sign\r\n                                                in</button> -->\r\n                                            <button class=\"btn btn-primary btn-block w-100\">Sign in</button>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <p class=\"mt-4 mb-0 text-center\">Don't have account?<a class=\"ms-2\"\r\n                                            href=\"sign-up.html\">Create\r\n                                            Account</a></p>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Swal from 'sweetalert2'; // Import SweetAlert\r\nimport axios from 'axios'; // Import Axios for making HTTP requests\r\nimport formValidation from \"@/mixins/commen/formValidation\"; // Import your form validation mixin\r\n\r\nexport default {\r\n    mixins: [formValidation],\r\n    data() {\r\n        return {\r\n            username: '', // Initialize username data property\r\n            password: '', // Initialize password data property\r\n        };\r\n    },\r\n    methods: {\r\n        onCustomStyleSubmit() {\r\n            axios.post('http://127.0.0.1:8000/api/auth/login', { // Make the API call to login\r\n                username: this.username,\r\n                password: this.password\r\n            })\r\n                .then(response => {\r\n                    if (response.data.success) { // Check if login was successful\r\n                        Swal.fire({ // Show success message using SweetAlert\r\n                            icon: 'success',\r\n                            title: 'Login Successful',\r\n                            text: 'Redirecting...',\r\n                            timer: 2000, // Automatically close the alert after 2 seconds\r\n                            showConfirmButton: false\r\n                        });\r\n\r\n                        // Redirect user based on role\r\n                        if (response.data.user.role === 'admin') {\r\n                            this.$router.push('/admin-dashboard'); // Redirect to admin dashboard\r\n                        } else if (response.data.user.role === 'user') {\r\n                            this.$router.push('/user-dashboard'); // Redirect to user dashboard\r\n                        }\r\n                    } else {\r\n                        // Show error message if login failed\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Login Failed',\r\n                            text: response.data.message\r\n                        });\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    // Handle error\r\n                    console.error('Error:', error);\r\n                });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}