{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport Body from '../components/body';\nimport Default from '../pages/dashboard/defaultPage.vue';\n/* Auth */\nimport Login from '../pages/auth/login';\nimport Register from '../pages/auth/register';\nimport AdminDashboard from '../pages/dashboard/admin';\nimport AdminConfiguration from '../pages/admin/configuration';\nconst routes = [/* Auth */\n{\n  path: '/',\n  component: Login,\n  name: 'login',\n  meta: {\n    title: ' Login '\n  }\n}, {\n  path: '/register',\n  name: 'register',\n  component: Register,\n  meta: {\n    title: ' Register '\n  }\n}, /* Admin */\n{\n  path: '/admin',\n  component: Body,\n  meta: {\n    auth: false\n  },\n  children: [{\n    path: 'dashboard',\n    name: 'adminDashboard',\n    component: AdminDashboard\n  }, {\n    path: 'configuration',\n    name: 'adminConfiguration',\n    component: AdminConfiguration\n  }]\n}, {\n  path: '/default',\n  component: Body,\n  children: [{\n    path: '',\n    name: 'defaultRoot',\n    component: Default\n  }]\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const store = useStore();\n  if (to.meta.title) {\n    document.title = to.meta.title + ' | Home Care Agency';\n  }\n  const path = ['/', '/register'];\n  // console.log(store.state.user)\n  console.log(store);\n  // console.log(store.getters.getUser)\n\n  if (path.includes(to.path) || localStorage.getItem('User')) {\n    return next();\n  }\n  next('/');\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","useStore","Body","Default","Login","Register","AdminDashboard","AdminConfiguration","routes","path","component","name","meta","title","auth","children","router","history","beforeEach","to","from","next","store","document","console","log","includes","localStorage","getItem"],"sources":["C:/Users/daniel.olang/Documents/Learn/projects/HomeCareAgency/web/src/router/index.js"],"sourcesContent":["import {\r\n  createRouter,\r\n  createWebHistory\r\n} from \"vue-router\"\r\nimport { useStore } from \"vuex\";\r\nimport Body from '../components/body';\r\nimport Default from '../pages/dashboard/defaultPage.vue';\r\n/* Auth */\r\nimport Login from '../pages/auth/login';\r\nimport Register from '../pages/auth/register';\r\nimport AdminDashboard from '../pages/dashboard/admin';\r\nimport AdminConfiguration from '../pages/admin/configuration';\r\n\r\n\r\nconst routes = [\r\n  /* Auth */\r\n  {\r\n    path: '/',\r\n    component: Login,\r\n    name: 'login',\r\n    meta: {\r\n      title: ' Login ',\r\n    },\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'register',\r\n    component: Register,\r\n    meta: {\r\n      title: ' Register ',\r\n    }\r\n  },\r\n\r\n  /* Admin */\r\n  {\r\n    path: '/admin',\r\n    component: Body,\r\n    meta: {\r\n      auth: false,\r\n    },\r\n    children: [{\r\n        path: 'dashboard',\r\n        name: 'adminDashboard',\r\n        component: AdminDashboard,\r\n      },\r\n      {\r\n        path: 'configuration',\r\n        name: 'adminConfiguration',\r\n        component: AdminConfiguration,\r\n      },\r\n    ]\r\n  },\r\n\r\n\r\n\r\n\r\n  {\r\n    path: '/default',\r\n    component: Body,\r\n    children: [{\r\n        path: '',\r\n        name: 'defaultRoot',\r\n        component: Default,\r\n      },\r\n\r\n    ]\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n})\r\nrouter.beforeEach((to, from, next) => {\r\n    const store = useStore();\r\n    if (to.meta.title) {\r\n        document.title = to.meta.title + ' | Home Care Agency';      \r\n    }\r\n\r\n    const path = ['/', '/register'];\r\n    // console.log(store.state.user)\r\n    console.log(store)\r\n    // console.log(store.getters.getUser)\r\n\r\n  if (path.includes(to.path) || localStorage.getItem('User')) {\r\n    return next();\r\n  }\r\n  next('/');\r\n});\r\nexport default router"],"mappings":"AAAA,SACEA,YAAY,EACZC,gBAAgB,QACX,YAAY;AACnB,SAASC,QAAQ,QAAQ,MAAM;AAC/B,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,OAAO,MAAM,oCAAoC;AACxD;AACA,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,cAAc,MAAM,0BAA0B;AACrD,OAAOC,kBAAkB,MAAM,8BAA8B;AAG7D,MAAMC,MAAM,GAAG,CACb;AACA;EACEC,IAAI,EAAE,GAAG;EACTC,SAAS,EAAEN,KAAK;EAChBO,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE;IACJC,KAAK,EAAE;EACT;AACF,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBE,IAAI,EAAE,UAAU;EAChBD,SAAS,EAAEL,QAAQ;EACnBO,IAAI,EAAE;IACJC,KAAK,EAAE;EACT;AACF,CAAC,EAED;AACA;EACEJ,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAER,IAAI;EACfU,IAAI,EAAE;IACJE,IAAI,EAAE;EACR,CAAC;EACDC,QAAQ,EAAE,CAAC;IACPN,IAAI,EAAE,WAAW;IACjBE,IAAI,EAAE,gBAAgB;IACtBD,SAAS,EAAEJ;EACb,CAAC,EACD;IACEG,IAAI,EAAE,eAAe;IACrBE,IAAI,EAAE,oBAAoB;IAC1BD,SAAS,EAAEH;EACb,CAAC;AAEL,CAAC,EAKD;EACEE,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAER,IAAI;EACfa,QAAQ,EAAE,CAAC;IACPN,IAAI,EAAE,EAAE;IACRE,IAAI,EAAE,aAAa;IACnBD,SAAS,EAAEP;EACb,CAAC;AAGL,CAAC,CACF;AAED,MAAMa,MAAM,GAAGjB,YAAY,CAAC;EAC1BkB,OAAO,EAAEjB,gBAAgB,CAAC,CAAC;EAC3BQ;AACF,CAAC,CAAC;AACFQ,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,KAAK,GAAGrB,QAAQ,CAAC,CAAC;EACxB,IAAIkB,EAAE,CAACP,IAAI,CAACC,KAAK,EAAE;IACfU,QAAQ,CAACV,KAAK,GAAGM,EAAE,CAACP,IAAI,CAACC,KAAK,GAAG,qBAAqB;EAC1D;EAEA,MAAMJ,IAAI,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC;EAC/B;EACAe,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EAClB;;EAEF,IAAIb,IAAI,CAACiB,QAAQ,CAACP,EAAE,CAACV,IAAI,CAAC,IAAIkB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IAC1D,OAAOP,IAAI,CAAC,CAAC;EACf;EACAA,IAAI,CAAC,GAAG,CAAC;AACX,CAAC,CAAC;AACF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}