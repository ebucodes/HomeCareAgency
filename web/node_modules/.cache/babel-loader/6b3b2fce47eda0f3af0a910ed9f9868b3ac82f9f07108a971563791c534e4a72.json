{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  data() {\n    return {\n      active: true,\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      userName: '',\n      password: '',\n      workers: [],\n      worker: ''\n    };\n  },\n  computed: {\n    isFormValid() {\n      return this.firstName && this.lastName && this.userName && this.password && this.worker;\n    }\n  },\n  created() {\n    this.fetchHealthcareWorkers();\n  },\n  methods: {\n    show() {\n      this.active = !this.active;\n    },\n    async fetchHealthcareWorkers() {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/api/fetch-workers');\n        if (response.data.status) {\n          this.workers = response.data.data;\n        } else {\n          console.error('Error fetching healthcare workers:', response.data.message);\n        }\n      } catch (error) {\n        console.error('Error fetching healthcare workers:', error);\n      }\n    },\n    async createUser() {\n      const userData = {\n        firstName: this.firstName,\n        lastName: this.lastName,\n        email: this.email,\n        phone: this.phone,\n        userName: this.userName,\n        worker: this.worker,\n        password: this.password\n      };\n      axios.post('http://127.0.0.1:8000/api/auth/register/client', userData).then(response => {\n        Swal.fire({\n          icon: 'success',\n          title: response.data.message\n        });\n        this.clearForm();\n        // Redirect to login page after successful registration\n        const router = useRouter();\n        router.push('/'); // Assuming '/' is the path for the login page\n      })\n      // .catch(error => {\n      //     Swal.fire({\n      //         icon: 'error',\n      //         title: error.response.data.message,\n      //         text: error.response.data.data\n      //     });\n      // });\n      .catch(error => {\n        if (error.response && error.response.data) {\n          // Check if error response contains validation errors\n          const errorMessage = error.response.data.message || 'Registration failed';\n          Swal.fire({\n            icon: 'error',\n            title: errorMessage\n          });\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: error.response.data.message,\n            text: error.response.data.data\n          });\n        }\n      });\n    },\n    clearForm() {\n      this.firstName = '';\n      this.lastName = '';\n      this.email = '';\n      this.phone = '';\n      this.userName = '';\n      this.password = '';\n      this.worker = '';\n    }\n  }\n};","map":{"version":3,"names":["Swal","axios","useRouter","data","active","firstName","lastName","email","phone","userName","password","workers","worker","computed","isFormValid","created","fetchHealthcareWorkers","methods","show","response","get","status","console","error","message","createUser","userData","post","then","fire","icon","title","clearForm","router","push","catch","errorMessage","text"],"sources":["C:\\Users\\chukwuebuka.ohaji\\Workspace\\Tests\\HomeCareAgency\\web\\src\\pages\\auth\\register_client.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container-fluid p-0\">\r\n            <div class=\"row m-0\">\r\n                <!-- Left Column -->\r\n                <div class=\"col-xl-5 b-center bg-size\"\r\n                    :style=\"{ backgroundImage: 'url(' + require('../../assets/images/login/3.jpg') + ')' }\"\r\n                    style=\"background-size: cover; background-position: center center; display: block;\">\r\n                    <img class=\"bg-img-cover bg-center\" src=\"../../assets/images/login/3.jpg\" alt=\"loginpage\"\r\n                        style=\"display: none;\" />\r\n                </div>\r\n                <!-- Right Column -->\r\n                <div class=\"col-xl-7 p-0\">\r\n                    <div class=\"login-card\">\r\n                        <div>\r\n                            <div>\r\n                                <a class=\"logo\">\r\n                                    <img class=\"img-fluid for-light\" src=\"../../assets/images/logo/logo.png\"\r\n                                        alt=\"loginpage\" />\r\n                                    <img class=\"img-fluid for-dark\" src=\"../../assets/images/logo/logo_dark.png\"\r\n                                        alt=\"loginpage\" />\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"login-main\">\r\n                                <form class=\"theme-form needs-validation\" novalidate=\"\" @submit.prevent=\"createUser\">\r\n                                    <h4>Create your account</h4>\r\n                                    <p>Enter your personal details to register as a Client</p>\r\n\r\n                                    <!-- First Name -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">First Name <span class=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <input v-model=\"firstName\" class=\"form-control\" type=\"text\" required\r\n                                            placeholder=\"First name\" />\r\n                                    </div>\r\n\r\n                                    <!-- Last Name -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">Last Name<span\r\n                                                class=\"text-danger\">*</span></label>\r\n                                        <input v-model=\"lastName\" class=\"form-control\" type=\"text\" required\r\n                                            placeholder=\"Last name\" />\r\n                                    </div>\r\n\r\n                                    <!-- Email Address -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">Email Address (Optional)</label>\r\n                                        <input v-model=\"email\" class=\"form-control\" type=\"email\"\r\n                                            placeholder=\"Test@gmail.com\" />\r\n                                    </div>\r\n\r\n                                    <!-- Phone Number -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">Phone Number (Optional)</label>\r\n                                        <input v-model=\"phone\" class=\"form-control\" type=\"text\"\r\n                                            placeholder=\"1234567890\" />\r\n                                    </div>\r\n\r\n                                    <!-- Username -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">Username <span class=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <input v-model=\"userName\" class=\"form-control\" type=\"text\" required\r\n                                            placeholder=\"Username\" />\r\n                                    </div>\r\n\r\n                                    <!-- Health Care Worker -->\r\n                                    <div class=\"form-group mb-1\">\r\n                                        <label class=\"col-form-label\">Health Care Worker</label>\r\n                                        <select v-model=\"worker\" class=\"form-control\" id=\"workerSelect\" required>\r\n                                            <option v-for=\"worker in workers\" :value=\"worker.userName\">\r\n                                                {{ worker.firstName + ' ' + worker.lastName }}\r\n                                            </option>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <!-- Password -->\r\n                                    <div class=\"form-group mb-2\">\r\n                                        <label class=\"col-form-label\">Password</label>\r\n                                        <div class=\"form-input position-relative\">\r\n                                            <input v-model=\"password\" class=\"form-control\"\r\n                                                :type=\"active ? 'password' : 'text'\" name=\"login[password]\" required\r\n                                                placeholder=\"*********\" />\r\n                                            <div class=\"show-hide\"><span :class=\"active ? 'show' : 'hide'\"\r\n                                                    @click.prevent=\"show\"></span></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <!-- Submit Button -->\r\n                                    <div class=\"form-group mb-6\">\r\n                                        <button :disabled=\"!isFormValid\" class=\"btn btn-primary btn-block\">\r\n                                            Register as a Client\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <!-- Links -->\r\n                                    <p class=\"mt-4 mb-0\">\r\n                                        <a class=\"btn-link ms-2\" href=\"/register/worker\">Register as a Health Care\r\n                                            Worker</a>\r\n                                    </p>\r\n                                    <p class=\"mt-4 mb-0\">\r\n                                        Already have an account?\r\n                                        <router-link class=\"ms-2\" tag=\"a\" to=\"/\">\r\n                                            Login\r\n                                        </router-link>\r\n                                    </p>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            active: true,\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            phone: '',\r\n            userName: '',\r\n            password: '',\r\n            workers: [],\r\n            worker: '',\r\n        }\r\n    },\r\n    computed: {\r\n        isFormValid() {\r\n            return (\r\n                this.firstName &&\r\n                this.lastName &&\r\n                this.userName &&\r\n                this.password &&\r\n                this.worker\r\n            );\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchHealthcareWorkers();\r\n    },\r\n    methods: {\r\n        show() {\r\n            this.active = !this.active;\r\n        },\r\n        async fetchHealthcareWorkers() {\r\n            try {\r\n                const response = await axios.get('http://127.0.0.1:8000/api/fetch-workers');\r\n                if (response.data.status) {\r\n                    this.workers = response.data.data;\r\n                } else {\r\n                    console.error('Error fetching healthcare workers:', response.data.message);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching healthcare workers:', error);\r\n            }\r\n        },\r\n        async createUser() {\r\n            const userData = {\r\n                firstName: this.firstName,\r\n                lastName: this.lastName,\r\n                email: this.email,\r\n                phone: this.phone,\r\n                userName: this.userName,\r\n                worker: this.worker,\r\n                password: this.password\r\n            };\r\n\r\n            axios.post('http://127.0.0.1:8000/api/auth/register/client', userData)\r\n                .then(response => {\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        title: response.data.message,\r\n                    });\r\n                    this.clearForm();\r\n                    // Redirect to login page after successful registration\r\n                    const router = useRouter();\r\n                    router.push('/'); // Assuming '/' is the path for the login page\r\n\r\n                })\r\n                // .catch(error => {\r\n                //     Swal.fire({\r\n                //         icon: 'error',\r\n                //         title: error.response.data.message,\r\n                //         text: error.response.data.data\r\n                //     });\r\n                // });\r\n                .catch(error => {\r\n                    if (error.response && error.response.data) {\r\n                        // Check if error response contains validation errors\r\n                        const errorMessage = error.response.data.message || 'Registration failed';\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: errorMessage,\r\n                        });\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: error.response.data.message,\r\n                            text: error.response.data.data\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n        clearForm() {\r\n            this.firstName = '';\r\n            this.lastName = '';\r\n            this.email = '';\r\n            this.phone = '';\r\n            this.userName = '';\r\n            this.password = '';\r\n            this.worker = '';\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":";AAqHA,OAAOA,IAAG,MAAO,aAAa;AAC9B,OAAOC,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE;IACZ;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,WAAWA,CAAA,EAAG;MACV,OACI,IAAI,CAACT,SAAQ,IACb,IAAI,CAACC,QAAO,IACZ,IAAI,CAACG,QAAO,IACZ,IAAI,CAACC,QAAO,IACZ,IAAI,CAACE,MAAK;IAElB;EACJ,CAAC;EACDG,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,sBAAsB,CAAC,CAAC;EACjC,CAAC;EACDC,OAAO,EAAE;IACLC,IAAIA,CAAA,EAAG;MACH,IAAI,CAACd,MAAK,GAAI,CAAC,IAAI,CAACA,MAAM;IAC9B,CAAC;IACD,MAAMY,sBAAsBA,CAAA,EAAG;MAC3B,IAAI;QACA,MAAMG,QAAO,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAC,yCAAyC,CAAC;QAC3E,IAAID,QAAQ,CAAChB,IAAI,CAACkB,MAAM,EAAE;UACtB,IAAI,CAACV,OAAM,GAAIQ,QAAQ,CAAChB,IAAI,CAACA,IAAI;QACrC,OAAO;UACHmB,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAEJ,QAAQ,CAAChB,IAAI,CAACqB,OAAO,CAAC;QAC9E;MACJ,EAAE,OAAOD,KAAK,EAAE;QACZD,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC9D;IACJ,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACf,MAAMC,QAAO,GAAI;QACbrB,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBG,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBF,QAAQ,EAAE,IAAI,CAACA;MACnB,CAAC;MAEDT,KAAK,CAAC0B,IAAI,CAAC,gDAAgD,EAAED,QAAQ,EAChEE,IAAI,CAACT,QAAO,IAAK;QACdnB,IAAI,CAAC6B,IAAI,CAAC;UACNC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAEZ,QAAQ,CAAChB,IAAI,CAACqB;QACzB,CAAC,CAAC;QACF,IAAI,CAACQ,SAAS,CAAC,CAAC;QAChB;QACA,MAAMC,MAAK,GAAI/B,SAAS,CAAC,CAAC;QAC1B+B,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE;MAEtB,CAAC;MACD;MACA;MACA;MACA;MACA;MACA;MACA;MAAA,CACCC,KAAK,CAACZ,KAAI,IAAK;QACZ,IAAIA,KAAK,CAACJ,QAAO,IAAKI,KAAK,CAACJ,QAAQ,CAAChB,IAAI,EAAE;UACvC;UACA,MAAMiC,YAAW,GAAIb,KAAK,CAACJ,QAAQ,CAAChB,IAAI,CAACqB,OAAM,IAAK,qBAAqB;UACzExB,IAAI,CAAC6B,IAAI,CAAC;YACNC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAEK;UACX,CAAC,CAAC;QACN,OAAO;UACHpC,IAAI,CAAC6B,IAAI,CAAC;YACNC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAER,KAAK,CAACJ,QAAQ,CAAChB,IAAI,CAACqB,OAAO;YAClCa,IAAI,EAAEd,KAAK,CAACJ,QAAQ,CAAChB,IAAI,CAACA;UAC9B,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACV,CAAC;IACD6B,SAASA,CAAA,EAAG;MACR,IAAI,CAAC3B,SAAQ,GAAI,EAAE;MACnB,IAAI,CAACC,QAAO,GAAI,EAAE;MAClB,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,QAAO,GAAI,EAAE;MAClB,IAAI,CAACC,QAAO,GAAI,EAAE;MAClB,IAAI,CAACE,MAAK,GAAI,EAAE;IACpB;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}